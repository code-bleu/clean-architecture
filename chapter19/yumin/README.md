# 19. 정책과 수준

소프트웨어 시스템이란 정책을 기술한 것이다.

컴퓨터 프로그램은 각 입력을 출력으로 변환하는 정책을 상세하게 기술한 설명서다.

동일한 이유로 동일한 시점에 변경되는 젇책은 동일한 수준에 위치하며, 동일한 컴포넌트에 속해야 한다.

다른 시점에 변경되는 정책은 다른 수준에 위치하며, 반드시 다른 컴포넌트로 분리해야 한다.

아키텍처 개발은 흔히 재편성된 컴포넌트들을 DAG로 구성하는 기술을 포함한다.

방향이 있는 간선은 컴포넌트 사이의 의존성을 나타낸다.

의존성은 컴파일러가 제대로 동작하기 위해서 필요하다.

좋은 아키텍처라면 각 컴포넌트를 연결할 때 의존성의 방향이 컴포넌트의 수준을 기반으로 연결되도록 만들어야 한다. 저수준 컴포넌트가 고수준 컴포넌트에 의존하도록 설계되어야 한다.

### 수준

---

수준을 엄밀하게 정의하자면 입력과 출력까지의 거리다.

멀리 위치할수록 정책의 수준은 높아진다.

입력과 출력에서부터 가장 멀리 떨어져 있는 것이 최고 수준의 컴포넌트이다.

데이터 흐름과 소스 코드 의존성이 항상 같은 방향을 가리키지는 않는다.

정책을 컴포넌트로 묶는 기준은 정책이 변경되는 방식에 달려있다는 사실을 상기하자.

동일한 시점에 변경되는 정책은 함께 묶인다. 고수준 정책, 즉 입력과 출력에서부터 멀리 떨어진 정책은 저수준 정책에 비해 덜 빈번하게 변경되고, 보다 중요한 이유로 변경되는 경향이 있다.

모든 소스 코드 의존성의 방향이 고수준 정책을 향할 수 있도록 정책을 분리했다면 변경의 영향도를 줄일 수 있다.

### 결론

---

이 장에서 설명한 정책에 대한 논의는 단일 책임 원칙, 개방 폐쇄 원칙, 공통 폐쇄 원칙, 의존성 역전 원칙, 안정된 의존성 원칙, 안정된 추상화 원칙을 모두 포함한다.

이 원칙들의 설명을 다시 읽어 보며 각 원칙이 어디에서 무슨 이유로 사용되었는지를 찾아보자.