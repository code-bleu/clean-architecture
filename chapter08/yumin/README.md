# 8장. OCP: 개방-폐쇄 원칙

소프트웨어 개체는 확장에는 열려 있어야 하고, 변경에는 닫혀 있어야 한다.

개체의 행위는 확장할 수 있어야 하지만, 이때 개체를 변경해서는 안 된다.

OCP는 보통 클래스와 모듈을 설계할 때 도움이 되는 원칙이라고 알고 있지만, 아키텍처 컴포넌트 수준에서 OCP를 고려할 때 훨씬 중요한 의미를 가진다.

사고 실험을 해 보면 이 점이 분명해진다.

아키텍트는 기능이 어떻게, 왜, 언제 발생하는지에 따라서 기능을 분리하고, 분리한 기능을 컴포넌트의 계층구조로 조직화한다.

추이 종속성

- 추이 종속성을 가지게 되면, 소프트웨어 엔티티는 자신이 직접 사용하지 않는 요소에는 절대로 의존해서는 안 된다는 소프트웨어 원칙을 위반하게 된다.
- Controller에서 변경이 발생할 경우 Interceptor를 보호하는 게 우선순위가 높다면, 반대로 Interceptor에서 발생한 변경도 Controller가 보호되기를 바란다. 이를 위해서 내부를 은닉하는 것 이다.

### 결론

OCP는 시스템의 아키텍처를 떠받치는 원동력 중 하나다. OCP의 목표는 시스템을 확장하기 쉬운 동시에 변경으로 인해 시스템이 너무 많은 영향을 받지 않도록 하는 데 있다.

시스템을 컴포넌트 단위로 분리하고, 저수준 컴포넌트에서 발생한 변경으로부터 고수준 컴포넌트를 보호할 수 있는 형태의 의존성 계층구조가 만들어지도록 해야 한다.